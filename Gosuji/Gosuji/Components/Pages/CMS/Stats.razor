@page "/cms/stats"
@rendermode @(new InteractiveServerRenderMode(prerender: false))
@layout CMSLayout

@using Gosuji.Components.Layout
@using Gosuji.Client.Components.Shared
@using Gosuji.Components.Shared.CMS
@using Gosuji.Components.Shared.Errors

<AuthorizeView>
    <Authorized>
        <AuthorizeView Roles="Owner">
            <Authorized Context="a">

                <div id="cmsStatsPage">
                    <div class="cmsFlexContainer">
                        <div class="cmsFlexItem">
                            <nav>
                                <div class="nav nav-tabs">
                                    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#dayUserChartTab" type="button">Days</button>
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#monthUserChartTab" type="button">Months</button>
                                </div>
                            </nav>
                            <div class="tab-content">
                                <div class="tab-pane show active" id="dayUserChartTab">
                                    <canvas id="dayUserChart"></canvas>
                                </div>
                                <div class="tab-pane" id="monthUserChartTab">
                                    <canvas id="monthUserChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </Authorized>
            <NotAuthorized Context="a">
                <Unauthorized />
            </NotAuthorized>
        </AuthorizeView>
    </Authorized>
    <NotAuthorized>
        <CRedirect URI="Account/Login" ForceLoad="true" />
    </NotAuthorized>
</AuthorizeView>
